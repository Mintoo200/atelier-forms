<form>
  <label for="email">Email (required)</label>
  <input type="email" id="email" required="true">
  <button>OK</button>
</form>

<style>
  input[data-touched="true"]:invalid {
    border: 2px solid red;
    outline-offset: 2px;
  }
</style>

<script>
  const inputs = document.querySelectorAll('input');

  // in React (and possibly other modern frameworks), change and input events
  // are the same.
  inputs.forEach(input => {
    let valueRef = input.value
    input.addEventListener('blur', (event) => {
      if (input.value !== valueRef)
        input.setAttribute('data-touched', 'true');
    })
    input.addEventListener('focus', (event) => {
      valueRef = input.value;
    })
    input.addEventListener('invalid', (event) => {
      input.setAttribute('data-touched', 'true');
    })
  })
</script>
